"use strict";(self.webpackChunkParadise_phone=self.webpackChunkParadise_phone||[]).push([[2556,4557],{84557:(e,t,n)=>{n.r(t),n.d(t,{getActualRemainingAmount:()=>o,getLoanIdentifierType:()=>a,getLoanTypeName:()=>r,getNextPaymentAmount:()=>i});var r=function(e){switch(e){case"vehicle":return"Vehicle";case"property":return"Property";default:return"Asset"}},a=function(e){switch(e){case"vehicle":return"Vehicle VIN";case"property":return"Property ID";default:return"Asset ID"}},o=function(e){if(e.Remaining>0){var t=(100+e.InterestRate)/100;return Math.ceil(e.Remaining*t)}return 0},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.Remaining>0){var n=(100+e.InterestRate)/100,r=e.TotalPayments-e.PaidPayments;e.MissedPayments>1&&1===t&&(t=e.MissedPayments),t>r&&(t=r);var a=e.Remaining/r*t*n;return Math.ceil(a)}return 0}},34119:(e,t,n)=>{n.d(t,{A3:()=>c,No:()=>l,ok:()=>i});n(97762);var r=n(27856),a=n.n(r),o=n(25935),i=function(e){return(0,o.ZP)(a().sanitize(e))},c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),l=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"".concat(t[1],"-").concat(t[2],"-").concat(t[3]):null}},72556:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var r=n(67294),a=n(86706),o=n(52141),i=n(6867),c=n(52288),l=n(87462),s=n(63366),u=n(86010),f=n(94780),m=n(29602),y=n(16122),d=n(2658),h=n(1588),p=n(28562);function v(e){return(0,p.Z)("MuiAlertTitle",e)}(0,h.Z)("MuiAlertTitle",["root"]);var g=n(48521);const b=["className"],w=(0,m.ZP)(d.Z,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2}))),P=r.forwardRef((function(e,t){const n=(0,y.Z)({props:e,name:"MuiAlertTitle"}),{className:r}=n,a=(0,s.Z)(n,b),o=n,i=(e=>{const{classes:t}=e;return(0,f.Z)({root:["root"]},v,t)})(o);return(0,g.jsx)(w,(0,l.Z)({gutterBottom:!0,component:"div",ownerState:o,ref:t,className:(0,u.default)(i.root,r)},a))}));var E=n(42440),x=n(7952),L=n(59334),k=n(94235),A=n(89250),S=n(67814),N=n(45525),Z=n(94803),T=n.n(Z),M=n(96486),O=n(69042),j=n(34119),I=n(68174),_=n(84557);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function C(){C=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:P(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function m(){}function y(){}function d(){}var h={};l(h,o,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(A([])));v&&v!==t&&n.call(v,o)&&(h=v);var g=d.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==D(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function P(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return y.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:y,configurable:!0}),y.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function F(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){F(o,r,a,i,c,"next",e)}function c(e){F(o,r,a,i,c,"throw",e)}i(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=(0,k.Z)((function(e){return{loanInfo:{fontFamily:"Kanit",padding:16},balanceLabel:{fontSize:12,color:e.palette.text.alt},balance:{fontSize:26,color:e.palette.success.main},duePaymentContainer:{},duePaymentLabel:{fontSize:12,color:e.palette.text.alt},paymentBalance:{fontSize:22,color:e.palette.success.main},header:{textAlign:"center",fontSize:20,color:e.palette.text.main,position:"relative","& span":{background:e.palette.secondary.main,padding:4,zIndex:1,position:"relative"},"&::before":{content:'" "',display:"block",height:2,background:function(e){return e.color},width:"100%",position:"absolute",top:0,bottom:0,margin:"auto",zIndex:0}},editField:{marginBottom:20,width:"100%","& p":{marginTop:0}}}}));const U=function(e){var t,n=(0,I.Ov)("loans"),l=B(n),s=(0,I.VY)(),u=((0,A.s0)(),(0,A.UO)()),f=(0,a.I0)(),m=u.loan,y=(0,a.v9)((function(e){return e.data.data.bankLoans.loans})),d=y&&y.find((function(e){return e._id==m}));if(!d)return null;var h=z((0,r.useState)(!1),2),p=h[0],v=h[1],g=z((0,r.useState)(!1),2),b=g[0],w=g[1],k=z((0,r.useState)({}),2),Z=k[0],D=k[1],F=(0,r.useMemo)((function(){return(0,M.throttle)(R(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,O.Z.send("Loans:GetData");case 6:return e.next=8,e.sent.json();case 8:if(!(t=e.sent)){e.next=13;break}f({type:"SET_DATA",payload:{type:"bankLoans",data:t}}),e.next=14;break;case 13:throw t;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0);case 19:v(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),3500)}),[]),G=function(e){if(e){var t=1;if(d.MissedPayments>1){var n=d.TotalPayments-d.PaidPayments;(t=d.MissedPayments)>n&&(t=n)}D({minWeeks:t,weeks:t,allowAhead:!0})}else D({minWeeks:1,weeks:1,allowAhead:!1});w(!0)},U=function(){var e=R(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!1),v(!0),e.prev=3,e.next=6,O.Z.send("Loans:Payment",{loan:d._id,weeks:Z.weeks,paymentAhead:Z.allowAhead});case 6:return e.next=8,e.sent.json();case 8:(n=e.sent)&&n.success?(n.paidOff?s("Loan Paid Off Completely!"):s("Loan Payment of $".concat(n.paymentAmount," Successful")),F()):s(null!==(r=n.message)&&void 0!==r?r:"Loan Payment Failed"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),s("Loan Payment Failed");case 15:v(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return r.createElement(N.zj,{appId:"loans",actions:r.createElement(r.Fragment,null,!p&&Boolean(d)&&(d.Defaulted?r.createElement(o.Z,{title:"Pay Loan Debt"},r.createElement("span",null,r.createElement(i.Z,{onClick:function(){return G()}},r.createElement(S.G,{icon:["far","sack-dollar"]})))):r.createElement(o.Z,{title:"Make Next Payment"},r.createElement("span",null,r.createElement(i.Z,{onClick:function(){return G()}},r.createElement(S.G,{icon:["far","circle-dollar"]}))))),r.createElement(o.Z,{title:d._id},r.createElement("span",null,r.createElement(i.Z,null,r.createElement(S.G,{icon:["fas",null!==(t={vehicle:"car-side",property:"house-building"}[d.Type])&&void 0!==t?t:"coin"]})))))},r.createElement("div",{className:l.loanInfo},(d.Defaulted||d.MissedPayments>0)&&r.createElement(c.Z,{variant:"filled",color:"error",style:{marginBottom:16}},r.createElement(P,null,"Loan Has Defaulted"),d.Defaulted?"This loan has been defaulted because you missed to many payments. The asset(s) relating to this loan have been seized temporarily until you pay the amount missed. Failing to pay within a month of the loan being defaulted, your asset(s) are at high risk of being permanently seized.":d.MissedPayments>0&&"You have missed the last ".concat(d.MissedPayments>1?"".concat(d.MissedPayments," payments"):"payment"," for this loan. If ").concat(d.MissablePayments," consecutive payments are missed, the loan will be defaulted on and the asset(s) relating to this loan will be seized.")),r.createElement("div",{className:l.balanceContainer},r.createElement("div",{className:l.balanceLabel},"Current Balance"),(0,_.getActualRemainingAmount)(d)>0?r.createElement("div",{className:l.balance},j.A3.format((0,_.getActualRemainingAmount)(d))):r.createElement("div",{className:l.balance},"Loan Paid Off")),d.Remaining>0&&r.createElement("div",{className:l.duePaymentContainer},r.createElement("div",{className:l.duePaymentLabel},"Payment Due On"," ",r.createElement(T(),{unix:!0,date:d.NextPayment,format:"L"})),r.createElement("div",{className:l.paymentBalance},j.A3.format((0,_.getNextPaymentAmount)(d)))),r.createElement("div",{className:l.header},r.createElement("span",null,"Loan Details")),r.createElement(E.Z,null,r.createElement(x.ZP,null,r.createElement(L.Z,{primary:(0,_.getLoanIdentifierType)(d.Type),secondary:d.AssetIdentifier}))),r.createElement(E.Z,null,r.createElement(x.ZP,null,r.createElement(L.Z,{primary:"Total Loan",secondary:j.A3.format(d.Total)}),r.createElement(L.Z,{primary:"Down Payment",secondary:j.A3.format(d.DownPayment)}),r.createElement(L.Z,{primary:"Total Paid",secondary:j.A3.format(d.Paid)})),r.createElement(x.ZP,null,r.createElement(L.Z,{primary:"Payments",secondary:"".concat(d.PaidPayments," / ").concat(d.TotalPayments)}),Boolean(d.MissedPayments)&&d.MissedPayments>0&&r.createElement(L.Z,{primary:"Missed Payments",secondary:"".concat(d.MissedPayments," / ").concat(d.MissablePayments)})))),p?r.createElement(N.aN,{static:!0,text:"Completing Loan Payment..."}):d?r.createElement("div",{className:l.accountBody}):r.createElement("p",null,"There was big fuckup oh no."),r.createElement(N.u_,{form:!0,open:b,title:"Loan Payment - $".concat((0,_.getNextPaymentAmount)(d,Z.weeks).toLocaleString("en-US")),submitLang:"Make Payment",closeLang:"Cancel",onAccept:U,onClose:function(){return w(!1)}},r.createElement("p",{className:l.editField},"Loan Payments are taken from your Personal Checking Account. Due Payment: $",(0,_.getNextPaymentAmount)(d,Z.weeks).toLocaleString("en-US"),".")))}}}]);